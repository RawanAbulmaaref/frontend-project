<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analytics Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="./analytics.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg sticky-top bg-white border-bottom">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand me-auto" href="#">
        <img src="./logo.png" alt="Logo" height="50" width="100"/>
      </a>
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav mx-auto gap-lg-2">
          <li class="nav-item"><a class="nav-link" href="./Employer Dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Post Job</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Manage Jobs</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Find Candidates</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Interviews</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Profile</a></li>
        </ul>
      </div>
      <div class="d-flex align-items-center gap-3 ms-lg-auto">
        <div class="position-relative"><i class="bi bi-bell fs-5"></i></div>
        <img src="https://i.pravatar.cc/40?img=12" class="rounded-circle" width="36" height="36" alt="avatar"/>
      </div>
    </div>
  </nav>

  <main>
    <div class="container my-4">
      <div class="row text-center mb-4 g-2">
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100 d-flex flex-column">
            <div class="card-body">
              <h6 class="text-muted">Jobs Posted</h6>
              <h3 class="fw-bold">25</h3>
              <small class="text-success">+5 Since last month</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100 d-flex flex-column">
            <div class="card-body">
              <h6 class="text-muted">Total Applications</h6>
              <h3 class="fw-bold">1,240</h3>
              <small class="text-success">+120 Since last month</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100 d-flex flex-column">
            <div class="card-body">
              <h6 class="text-muted">Avg. Time to Hire</h6>
              <h3 class="fw-bold">22 Days</h3>
              <small class="text-success">-3 Days Compared to last quarter</small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card shadow-sm border-0 h-100 d-flex flex-column">
            <div class="card-body">
              <h6 class="text-muted">Candidates Hired</h6>
              <h3 class="fw-bold">15</h3>
              <small class="text-success">+2 Since last month</small>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-4 mb-4">
        <div class="col-md-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <h6 class="mb-3">Job Views & Applications Over Time</h6>
              <canvas id="viewsChart"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <h6 class="mb-3">Application Source Breakdown</h6>
              <canvas id="sourceChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-4 mb-4">
        <div class="col-md-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <h6 class="mb-3">Hiring Funnel Conversion</h6>
              <canvas id="funnelChart"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <h6 class="mb-3">Average Time Per Hiring Stage</h6>
              <canvas id="timeChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="py-3 shadow-sm border-top bg-light mt-auto sticky-bottom">
    <div class="container d-flex flex-wrap align-items-center justify-content-between gap-2">
      <div class="footer-links d-flex gap-3 small mx-auto mx-md-0">
        <a href="#" class="text-decoration-none text-dark">JobLink</a>
        <a href="#" class="text-decoration-none text-dark">For Job Seekers</a>
        <a href="#" class="text-decoration-none text-dark">For Employers</a>
        <a href="#" class="text-decoration-none text-dark">Resources</a>
      </div>
      <div class="d-flex align-items-center gap-3 mx-auto mx-md-0">
        <i class="bi bi-facebook"></i>
        <i class="bi bi-twitter"></i>
        <i class="bi bi-github"></i>
        <i class="bi bi-instagram"></i>
        <i class="bi bi-youtube"></i>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

  <script>
    console.log('hi from charts')
    new Chart(document.getElementById("viewsChart"), {
      type: "line",
      data: {
        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
        datasets: [
          { label: "Views", data: [2500,2800,3000,2900,3200,3600], borderColor:"#284c8a", backgroundColor:"#284c8a33", fill:true, tension:0.3 },
          { label: "Applications", data: [200,240,260,250,270,300], borderColor:"#2ca96c", backgroundColor:"#2ca96c33", fill:true, tension:0.3 }
        ]
      },
      options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{position:"bottom"}}}
    });

    new Chart(document.getElementById("sourceChart"), {
      type:"doughnut",
      data:{labels:["JobLink","LinkedIn","Company Website","Referral","Other"], datasets:[{data:[40,25,20,10,5], backgroundColor:["#284c8a","#2ca96c","#f4b400","#e05a4f","#6c757d"], borderWidth:2, borderColor:"#fff"}]},
      options:{cutout:"75%", responsive:true, maintainAspectRatio:false, plugins:{legend:{position:"bottom"}}}
    });

    new Chart(document.getElementById("funnelChart"), {
      type:"bar",
      data:{labels:["Applied","Screened","Interviewed","Offer Extended","Hired"], datasets:[{label:"Candidates", data:[100,60,30,20,15], backgroundColor:"#284c8a"}]},
      options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}}
    });

    new Chart(document.getElementById("timeChart"), {
      type:"bar",
      data:{labels:["Application Review","First Interview","Technical Interview","Offer & Negotiation"], datasets:[{label:"Days", data:[5,3,5,7], backgroundColor:"#2ca96c"}]},
      options:{indexAxis:"y", responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}}
    });
  </script>
</body>
</html>
